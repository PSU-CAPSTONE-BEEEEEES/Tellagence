<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>Twitter Relationships</title>

    <!-- stylesheets -->
    <link rel="stylesheet" href="static/style.css">

    <!-- core libraries -->
    <script src="js/lib/jquery-1.7.1.js"></script>
    <script src="js/lib/html5slider.js"></script>

    <!-- d3 libraries -->
    <script src="js/lib/d3.js"></script>
    <script src="js/lib/d3.layout.js"></script>
    <script src="js/lib/d3.geom.js"></script>

  </head>

  <script>
$(document).ready(function() {
    // text input capture on enter
$("#search").keypress(function(e) {
    // 13 is the ascii code for the enter key
    if (e.which == 13) {
	alert("enter pressed with " + $("#search").val());
    }
});

// toolbar animation and help overlay functions
$("#toolbar").hide();
$("#tab").click(
    function(){
        $("#toolbar").slideToggle("fast");
    }
);

// functions for controlling the help overlay visibility and position
function loadPopup(){
    //loads popup only if it is disabled
    if($("#bgPopup").data("state")==0){
        $("#bgPopup").css({
            "opacity": "0.7"
        });
        $("#bgPopup").fadeIn("medium");
        $("#Popup").fadeIn("medium");
        $("#bgPopup").data("state",1);
    }
}

function disablePopup(){
    if ($("#bgPopup").data("state")==1){
        $("#bgPopup").fadeOut("medium");
        $("#Popup").fadeOut("medium");
        $("#bgPopup").data("state",0);
    }
}

function centerPopup(){
    var winw = $(window).width();
    var winh = $(window).height();
    var popw = $('#Popup').width();
    var poph = $('#Popup').height();
    $("#Popup").css({
        "position" : "absolute",
        "top" : winh/2 - poph/2,
        "left" : winw/2 - popw/2
    });
}

// selectors on the help button to trigger the functions
$("#bgPopup").data("state",0);
$("#help_button").click(function(){
    centerPopup();
    loadPopup();
});
$("#bgPopup").click(function(){
    disablePopup();
});

$(window).resize(function() {
    centerPopup();
});
});
  </script>

  <body>
    <div class="over">
      <div id="toolbar">
        <!-- contents of the toolbar -->
        <div id="help_button">?</div>

        <input type="range" min="0" max="100" value="50" />
        <div id="search">
          <div id="searchbar">
            <input type="text"/>
          </div>
        </div>

        <div id="d3_credit">
          <a href="http://mbostock.github.com/d3/" target="_blank">d3</a>
        </div>
      </div>
      <img id="tab" src="static/tab.png"/>
    </div>

    <div id="d3">
      <!-- SVG area for d3 magic.
      Note that this calls an example script that draws the svg within the d3
      section and redraws it properly on resize
      -->
    	<script type="text/javascript" src="js/graph.js" ></script>	
    	<script type="text/javascript" src="js/graph_render.js" ></script>
    	<script type="text/javascript" src="js/graph_event.js" ></script>
  	  	<script type="text/javascript" src="js/gui_event.js" ></script>	
    	<script type="text/javascript" src="js/build.js" ></script>
    </div>

    <div id="Popup">
      <!-- help overlay, with the entered text formatted into the popup -->
      This is what I'm talking about
    </div>
    <div id="bgPopup"></div>

  </body>

</html>
